package com.aura.engine.module.shell;

import com.aura.client.AuraClient;
import com.aura.engine.AuraEngine;
import com.aura.engine.AuraScreen;
import com.aura.engine.inputMap.key.EPKeyMapCM;

public class SDTest extends EMShellDialog {
	
	@Override
	public boolean isWorldFocusNeeded() {
		return true;
	}
	
	public SDTest(AuraClient aura, AuraScreen screen, AuraEngine scene) {
		super(aura, screen, scene, EPKeyMapCM.FOCUS, "TEST");
	}
	
	@Override
	public void initializeForDialog() {
		attach(createGbc(0, 0, false), getBtSpawn());
		attach(createGbc(0, 1, false), getBtExit());
		attach(createGbc(1, 0, false), getBtTest());
	}
	
	@Override public void implDoUpdate() {}
	@Override public void implDoDrawDebug() {}
	
	private MObject btSpawn;
	public MObject getBtSpawn() {
		if (btSpawn == null) {
			btSpawn = new MObject(getScene(), "SPAWN", 100, 30);
			btSpawn.attach(new MObjectAction() {
				@Override
				public void execute() {
					getPlugin().requestSpawn(1);
				}
			});
		}
		return btSpawn;
	}
	
	private MObject btExit;
	public MObject getBtExit() {
		if (btExit == null) {
			btExit = new MObject(getScene(), "EXIT", 100, 30);
			btExit.attach(new MObjectAction() {
				@Override
				public void execute() {
					getScreen().getPlugin().kill(null);
				}
			});
		}
		return btExit;
	}
	
	private MObject btTest;
	public MObject getBtTest() {
		if (btTest == null) {
			btTest = new MObject(getScene(), "TEST", 50, 30);
			btTest.attach(new MObjectAction() {
				@Override
				public void execute() {
				}
			});
		}
		return btTest;
	}
}